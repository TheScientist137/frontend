---
import MainLayout from "@/layouts/MainLayout.astro";
import Post from "@/components/Post.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("posts");
posts.sort((a, b) => b.data.createdAt.valueOf() - a.data.createdAt.valueOf());
---

<MainLayout title="Home">
	<h1 class="font-mono">Welcome to my blog</h1>
	{posts.map((post) => <Post {...post.data} slug={post.slug} />)}
</MainLayout>
